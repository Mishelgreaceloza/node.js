<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mi chat</title>
	
<style>
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, Roboto,
      Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    display: grid;
    place-content: center;
    height: 100vh;
    padding: 36px;
  }

  #chat {
    border: 1px solid #ccc;
    border-radius: 8px;
    overflow: hidden;
    width: 350px;
    height: 100%;
    position: relative;
  }
</style>
</head>
<body>
	<section id="chat">
    <ul id="mesaje"></ul>
		<form id="formulario">
			<input type="text" name="message" id="input" placeholder="pon un mensaje " autocomplete="off"/>
			<button  type=submit>enviar </button>


		</form>
	</section>


  <script type="module">
  import { io } from "https://cdn.socket.io/4.7.5/socket.io.esm.min.js";

  const socket = io();
  const form=document.getElementById("formulario")
  const input=document.getElementById("input")
  const mesages=document.getElementById("mensaje")

  socket.on("chat message"),(msg)=>{
    const iten ="<li>${msg}</li>"
    mesages.insertAdjacentHTML("beforeend",iten)
  }

  form.addEventListener("submit",(e)=>{
    e.preventDefault()
    if(input.value){
      socket.emit("chat mensaje",input.value) 
      input.value=""
    }
  })

  socket.on("connect", () => {
    console.log("Conectado al servidor:", socket.id);
  });
</script>

</body>
